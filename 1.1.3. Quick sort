#include <stdio.h>
void swap(int arr[], int i, int j) {
	int temp = arr[i];
	arr[i] = arr[j];
	arr[j] = temp;
}
void printSubarray(int arr[], int low, int high) {
	for (int i = low; i <= high; i++) {
		printf("%d ", arr[i]);
	}
	printf("\n");
}
int partition(int arr[], int low, int high) {
	int pivot = arr[high]; // use last element as pivot
	int i = low - 1;
	for (int j = low; j < high; j++) {
		if (arr[j] <= pivot) {
			i++;
			swap(arr, i, j);
		}
	}
	swap(arr, i + 1, high);
	return i + 1;
}
void quickSort(int arr[], int low, int high) {
	if (low < high) {
		int pivotIndex = partition(arr, low, high);
		printf("Pass: ");
		printSubarray(arr, low, high);
		quickSort(arr, low, pivotIndex - 1);
		quickSort(arr, pivotIndex + 1, high);
	}
}
void printArray(int arr[], int size) {
	for (int i = 0; i < size; i++) {
		printf("%d ", arr[i]);
	}
	printf("\n");
}
int main() {
	int n, a[100];
	printf("number of elements: ");
	scanf("%d", &n);
	printf("elements: ");
	for (int i = 0; i < n; i++) {
		scanf("%d", &a[i]);
	}
	printf("Original array: ");
	printArray(a, n);
	quickSort(a, 0, n - 1);
	printf("Sorted array: ");
	printArray(a, n);
	return 0;
}
